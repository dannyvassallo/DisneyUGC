language: ruby
rvm:
  - 2.0.0
env:
  - DB=sqlite
  - DB=mysql
  - DB=postgresql
script:
  - RAILS_ENV=test bundle exec rake --trace db:migrate test
  - bundle exec rspec spec
before_script:
  - mysql -e 'create database disneyugc_test'
  - psql -c 'create database disneyugc_test' -U postgres
env:
  MAIL_HOST: localhost
  EMAIL_URL: disneyugc.com
  secure: "iZifhAxE+Gsei1A0Plu45WLD/uIz6LkLnW5Lb2Rb3xkH6BZAcbIVjurc1hPT7R616YBZJU5tnjbKsNhLXoPEd4xpexOQ+jHZsHCZYPn1GxnmcQHsYCFqTjIIPUlA4kePrZwtnqDmoENWfMv8g+xshTznh96e1ynz//BKoVOZwFwiMEv9UYWaldg4RmId1gkr4lDhsZeitvkRZrvRuBMVDs4GKfSUm+sUOdOoLeujOCY3yqwGLSA6lxhx0AYTqJHgwv3JbkrtzBDgEftVZ0D4uVw5IuNW6xIaWdu2Sy9LqmQRCe38UrRZhMss1MJo3Phg7+ifOsKaBWeyimMClaVANEqjEUF0NtbohIgZyBv8RKXtB9TiCbPmH+PlEAmqC98Cx2ihSCIQxbpx3e75CjduUo6yI9nsWcVWP2Ikuh8Gv57exdsqxhC/w9tRTORdOkT0CHaPtzuAZILNJtJMu6AyOl/yF8S6KOOAZKJl4p0TYkget393ZXc+CxxocZ6qhRXP2Plwvbk9jZa8XR3YtiUqoNv8iY3CS+RaYPIFpnCHwGtLNUCN7ZX/Qkf/8wD1dKoHcAjxESEJ2LriX65GaAwur08xpASCEZFDQ/TARdQGmN4nVco58Nio9QAEVJShYrL2klhhRlbepISjs4xNp4Zwp1LjBu/7rWB1RxQU8Eb9XQk="
  secure: "UI8lQLCSHVbs4NqEORHweS5DWAnbx6kaD0XYmN+Ua08PjzokmJZNL+HA7DQbImSbJSgcZdLjyckQ4cQZC3TZKt7ScKq108k6QtGdozDuJlKxzR6bHp6pvmiW7DMK3deJw+WEFbhyUfRUoY1dPLExxL+I2Lvf+ACMM/sLMvUDcYxZGmf3DwnvHqFsbnsB/KxIu8qI+C6n5SgFcRVldYW4S5duJHrKvj+3LJwz/HxE5nbSe872SjquopCFQhhHmdTXUxahQw8HKOA80xz83+0EGJ89kpIId9ojulmdsOWHW4s8GdbxzX0RPrNHYH+0VQP5FxbQy/URsu/dc/TlkuJ1ZiF36ytvANCaOHDE4uHkGd625mQm/G7tyxuThAOWmmbIcVW1UxJeNfsy+uLNlQj9JZR0Sobm1W6AGPjQl11NqAOzVE34watzvO/AuXFZMlUna3Xytdk80hBFaS/aM8YSXT69NJkFvZNOuAy42RgPLXlUQfWRMeZPjMEtDKAFCMk68f0tRtaAxUr6qZ2c9KepQ1F2mFOHAapnRbZFjVeyavd1SjiIr9aZT/gxT/hP+c3251mHwaRWJpbqTFDkPKJqqun3aSmVRegHZQAcSbgaIg9UFbtLhXZB9jJN+cnEbXRiHm6vE+l7B5Sdy+QPMvibP+RhVlAcXyrBLZTEGwksBvw="
  secure: "EKTryi5y2jgTcGtZn36eMQSKJN2HwsqRg2hnYgSRMfH+O7Numqa880m/u0cfBYwOw8zuuc/BexlXLSxj3JUvxPFkEg3ShQGLWkAyhN/IJy+eMw0DK5JJCAGl218ur5kmpFpqALlK/fcPW1/ykBaONPDnUumDjnQm8WZRSlq5nThcTttzbS09Nj59Dki4nGWajFEVoD9xKYhFT1bUFnhKesL75qoR9ODGrgPVZEzd9twREtzgiVAP7xz/ZCPQ5U55XjxtbUWAKzz/v73PaKMEheHau07V5sCdqK5XdoKtjRUe4+QnS4S37OP6XhbZ+VgQ9Jjf1phBpBRDa010W0P/05Hw+fV/VtEY3T8qEYpqaHMAzLKwZ0I1R2dRNHgex2CabgrObhKwjC7ZfTRjr/6arA3HmbZEVRRPKhXj9lEPzLiy56+ut6yNGa/rU85OBuZZWmxLxXmIo4kc5XVpnD3CbOxCd2SfwJDLxpT/MRbglJlZDGRWIp6xeJGVp6a5eAaf65I0Z8j3at+AuaLip83EqJ57+5fb9JcXm2GLySuScseBaufW+CssLnVtKNOX6p0SzAZdmhjdPMBCwTYm4UBao5wPlWHvPSXulcvgNayLwJUAdq6NCQZ+fIkbwBE3yiTDoVKVyyAMWI7u5CfmGi987inc95n7/E4hU39NqMNisNc="
  secure: "fao3moHqhJYinf6PR2XeWNSHJGZPA4FpyNlL1qkm77rZagSsvegOHoRMKwuELVVksyEjD4IsKvxJa3M3ihycb4XV733KlTDCRAH0XgKEHf8we+nlVbmtS38AyKc9QbvfmffGXZ0Xz+UYAyMlHDD1h6R2j4+tbVeYkDR7qYqt7wAZ83U7R8q6q1v+YxOha3OXU4qwYT3/fQQlDPzWvpKGeWgLIZbUFcl7ecmurgbOW8Dl5W408w18hEPYwdGf6EJK4cf8T+wYpkjiax7ed5hMOaIyqyAMfdP6fXat1j303jTRvdxod/h9xkRnUZzesB9Kl5Tkcmgk8K1uPSd22rpFoTMSwp88X7IbEaN3lia0Gn594xsTdyo2YvdttrnSLZMV7kCwGzwt9jPWXMxyaK6EkYyO7PxdH/L2JHbbK+yQ2TTrFuZiZ/kC7J/Bne8lnEJQ6nErB9yJdY7A8DwSfH/fllaTCFNlZ3jwZD8JZwRUxVDoLIAeSbNXG5AfHzSVMtrTNFx38Ur+NDmCO2A0xnTVpAa8rUfVj+sIw3Y/tDanyaFpvYuSo4IWG8Ha5tTGLxcN03aCLPB5a2IUMv5dSSW3MlTMaRC7SaXcaaPYw3SzgBVGAltiCX6p+FVvLS48zJfzUUIE+Tj+DtHgVEk7/st9qvv6WSAODSmVZyRfYZO4dOM="
  secure: "Qm85cxEpD0gQsqWzNDmY/0lihKTPNb4xY6l8Deox7Kl8IUioRTrw+6MrZY0CiToZY/xhns7gqVRUPsFDW91qK5RuaeGoQCv7steh5V+lP/J5Vf+kwFWSG2BIa/toUgq19z3maSEvKBC+UKgQmy2Pv1X3t8MLEdGrlqSmWGuwJhDfgJxb0l4OcxLdZVstSJRLUNFu4XfNsZv7Y3dqQ6S5WAx9iJG6L6ll/4U0kN5+jNTp5izQhFzu0R88lo6z7gvO7IehwLjN9v7j4yQ0fz8wahs7hK4fnGxK0C4AgeVvfvqmhbwLbqOUml69kVc+rP3sciAK0V/4gw8qHbeQZ1g6iLGBrj3Chyfif5oZOx36SLIzLLfw4Jr2bHrM2018QzpcQLJYJRT79EdbBmc0D+qMlUz20Fq/j3mo24cKp5roOMXJ5NpR4idQ1dvR0KyUWNTCNfA93AI8loaGJ1iU8JQSOgQxyGoTAEJlhQs2OoUOjKTU+4siiFjcET2p1W+s4qiS3diSFAsvazqTXphN8dPgBTwVlo/ejgX2nK95WDmxHe8cCmlpvN3NtHgBbfjoDN1/nhsxO9iBIo/Lu6czVn/9UflBrBww0YmNLfivYLp+VdW3RNysEw06rFuRtTAtt+kcYnyf+rgkAx4ZWCyYmST6EK9LAyxPUcVCbZcpoF0J/PM="
  secure: "WNvXD/5SmfSRPjuIAEAS3n040SWsHsr0XYhDY9ThFOSs4TInj1J5BnJQG3XZIaNvFCux9nQ7ejTvzGM0o+CXx8surRoOiH9hWyvdimGUHUVBSj82hB3SgTaAdRr86b5ptuBKc2/JTjIJt/+1e9I/4XFVcjg8ZUB8M8qiJLOCCouBoROB7433Sw1jyBqCfi8V9CcuEJR/yFKqXSYWugtfGgd/7D969rwz2SgZqmkNH+Q+bxZ9OgFZsuXzkLMjHCFMMf0qRhwDa15KtUcUyM6dzBm3ybICJUN6MFNXXkAjp3omlqG3bWGi7l6cNf6wEsBdnRzTLQqavPfYZY3FFbZLYoTBv92Cm84pipK/ZlEq3HKFEqyTMJ8JfdJ+3sPbpvCy7VCUXkuxhdqmWG4JrehXBdO0lfPBdSyPAWNDGZn4f6y2xhpcwn00fg0abzTG39FFlgY6JrdEHAg6PgxyKUHQskXn6uDNP/9XQ6af4M+zGVhe9mG0W5nHCPi27H8L5+kEwwQtWVhFFPPJN4ROIxkbTuiYG3E5MPBEcXZV4kOL/mNyQiC6MO8H6NwDZ0OJru3gewMroZmi1bchqOzTIaLq5sQHcCFPJpLnPiuMGKldHBWZ1b9OX8CSsBfoMpEM89L0/lueOOP+cx5GIlw7dksuouCaF4ckL0zOey2ooK3FWIY="
